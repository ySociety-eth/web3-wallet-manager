import{a as je,b as Ue,c as Fe,d as h,e as P}from"./chunk-GD7TJA3Q.js";import{ga as Me,n as Ie,p as Pe,q as Le}from"./chunk-3VEWMGKM.js";import{a as d,b as E,k as b}from"./chunk-HIVZEDT5.js";var he={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u};var N={set(t,r){I.isClient&&localStorage.setItem(`${h.STORAGE_KEY}${t}`,r)},get(t){return I.isClient?localStorage.getItem(`${h.STORAGE_KEY}${t}`):null},delete(t,r){I.isClient&&(r?localStorage.removeItem(t):localStorage.removeItem(`${h.STORAGE_KEY}${t}`))}};var J=30*1e3,I={checkIfAllowedToTriggerEmail(){let t=N.get(h.LAST_EMAIL_LOGIN_TIME);if(t){let r=Date.now()-Number(t);if(r<J){let e=Math.ceil((J-r)/1e3);throw new Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){let t=N.get(h.LAST_EMAIL_LOGIN_TIME);if(t){let r=Date.now()-Number(t);if(r<J)return Math.ceil((J-r)/1e3)}return 0},checkIfRequestExists(t){return P.NOT_SAFE_RPC_METHODS.includes(t.method)||P.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(he.transactionHash)||t?.match(he.signedMessage))?h.RPC_RESPONSE_TYPE_TX:h.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return P.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var S;(function(t){t.assertEqual=a=>a;function r(a){}t.assertIs=r;function e(a){throw new Error}t.assertNever=e,t.arrayToEnum=a=>{let o={};for(let i of a)o[i]=i;return o},t.getValidEnumValues=a=>{let o=t.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),i={};for(let c of o)i[c]=a[c];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(o){return a[o]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let o=[];for(let i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.push(i);return o},t.find=(a,o)=>{for(let i of a)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(S||(S={}));var Be=function(t){return t.mergeShapes=(r,e)=>d(d({},r),e),t}(Be||{}),p=S.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),U=t=>{switch(typeof t){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(t)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(t)?p.array:t===null?p.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?p.promise:typeof Map<"u"&&t instanceof Map?p.map:typeof Set<"u"&&t instanceof Set?p.set:typeof Date<"u"&&t instanceof Date?p.date:p.object;default:return p.unknown}},u=S.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),at=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),M=(()=>{class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let n=e||function(i){return i.message},a={_errors:[]},o=i=>{for(let c of i.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)a._errors.push(n(c));else{let l=a,y=0;for(;y<c.path.length;){let g=c.path[y];y===c.path.length-1?(l[g]=l[g]||{_errors:[]},l[g]._errors.push(n(c))):l[g]=l[g]||{_errors:[]},l=l[g],y++}}};return o(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,S.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){let n={},a=[];for(let o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):a.push(e(o));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}return t.create=r=>new t(r),t})(),H=(t,r)=>{let e;switch(t.code){case u.invalid_type:t.received===p.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case u.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,S.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:e=`Unrecognized key(s) in object: ${S.joinValues(t.keys,", ")}`;break;case u.invalid_union:e="Invalid input";break;case u.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${S.joinValues(t.options)}`;break;case u.invalid_enum_value:e=`Invalid enum value. Expected ${S.joinValues(t.options)}, received '${t.received}'`;break;case u.invalid_arguments:e="Invalid function arguments";break;case u.invalid_return_type:e="Invalid function return type";break;case u.invalid_date:e="Invalid date";break;case u.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:S.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case u.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case u.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case u.custom:e="Invalid input";break;case u.invalid_intersection_types:e="Intersection results could not be merged";break;case u.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case u.not_finite:e="Number must be finite";break;default:e=r.defaultError,S.assertNever(t)}return{message:e}},Ge=H;function st(t){Ge=t}function X(){return Ge}var ee=t=>{let{data:r,path:e,errorMaps:n,issueData:a}=t,o=[...e,...a.path||[]],i=E(d({},a),{path:o}),c="",l=n.filter(y=>!!y).slice().reverse();for(let y of l)c=y(i,{data:r,defaultError:c}).message;return E(d({},a),{path:o,message:a.message||c})},ot=[];function m(t,r){let e=ee({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,X(),H].filter(n=>!!n)});t.common.issues.push(e)}var k=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){let n=[];for(let a of e){if(a.status==="aborted")return T;a.status==="dirty"&&r.dirty(),n.push(a.value)}return{status:r.value,value:n}}static mergeObjectAsync(r,e){return b(this,null,function*(){let n=[];for(let a of e)n.push({key:yield a.key,value:yield a.value});return t.mergeObjectSync(r,n)})}static mergeObjectSync(r,e){let n={};for(let a of e){let{key:o,value:i}=a;if(o.status==="aborted"||i.status==="aborted")return T;o.status==="dirty"&&r.dirty(),i.status==="dirty"&&r.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[o.value]=i.value)}return{status:r.value,value:n}}},T=Object.freeze({status:"aborted"}),Ve=t=>({status:"dirty",value:t}),O=t=>({status:"valid",value:t}),fe=t=>t.status==="aborted",_e=t=>t.status==="dirty",q=t=>t.status==="valid",te=t=>typeof Promise<"u"&&t instanceof Promise,v=function(t){return t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message,t}(v||{}),L=class{constructor(r,e,n,a){this._cachedPath=[],this.parent=r,this.data=e,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ze=(t,r)=>{if(q(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new M(t.common.issues);return this._error=e,this._error}}};function C(t){if(!t)return{};let{errorMap:r,invalid_type_error:e,required_error:n,description:a}=t;if(r&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(i,c)=>i.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:n??c.defaultError}:{message:e??c.defaultError},description:a}}var A=class{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return U(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:U(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new k,ctx:{common:r.parent.common,data:r.data,parsedType:U(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let e=this._parse(r);if(te(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){let e=this._parse(r);return Promise.resolve(e)}parse(r,e){let n=this.safeParse(r,e);if(n.success)return n.data;throw n.error}safeParse(r,e){var n;let a={common:{issues:[],async:(n=e?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:U(r)},o=this._parseSync({data:r,path:a.path,parent:a});return Ze(a,o)}parseAsync(r,e){return b(this,null,function*(){let n=yield this.safeParseAsync(r,e);if(n.success)return n.data;throw n.error})}safeParseAsync(r,e){return b(this,null,function*(){let n={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:U(r)},a=this._parse({data:r,path:n.path,parent:n}),o=yield te(a)?a:Promise.resolve(a);return Ze(n,o)})}refine(r,e){let n=a=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(a):e;return this._refinement((a,o)=>{let i=r(a),c=()=>o.addIssue(d({code:u.custom},n(a)));return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(c(),!1)):i?!0:(c(),!1)})}refinement(r,e){return this._refinement((n,a)=>r(n)?!0:(a.addIssue(typeof e=="function"?e(n,a):e),!1))}_refinement(r){return new D({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return Z.create(this,this._def)}nullable(){return z.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Y.create(this,this._def)}promise(){return de.create(this,this._def)}or(r){return Ce.create([this,r],this._def)}and(r){return Ae.create(this,r,this._def)}transform(r){return new D(E(d({},C(this._def)),{schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:r}}))}default(r){let e=typeof r=="function"?r:()=>r;return new Ne(E(d({},C(this._def)),{innerType:this,defaultValue:e,typeName:x.ZodDefault}))}brand(){return new oe(d({typeName:x.ZodBranded,type:this},C(this._def)))}catch(r){let e=typeof r=="function"?r:()=>r;return new ze(E(d({},C(this._def)),{innerType:this,catchValue:e,typeName:x.ZodCatch}))}describe(r){let e=this.constructor;return new e(E(d({},this._def),{description:r}))}pipe(r){return K.create(this,r)}readonly(){return Je.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},it=/^c[^\s-]{8,}$/i,ct=/^[a-z][a-z0-9]*$/,dt=/^[0-9A-HJKMNP-TV-Z]{26}$/,lt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ut=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",me,ht=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,mt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ft=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function _t(t,r){return!!((r==="v4"||!r)&&ht.test(t)||(r==="v6"||!r)&&mt.test(t))}var ie=(()=>{class t extends A{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){let i=this._getOrReturnCtx(e);return m(i,{code:u.invalid_type,expected:p.string,received:i.parsedType}),T}let a=new k,o;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),m(o,{code:u.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),m(o,{code:u.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let c=e.data.length>i.value,l=e.data.length<i.value;(c||l)&&(o=this._getOrReturnCtx(e,o),c?m(o,{code:u.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&m(o,{code:u.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")ut.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"email",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")me||(me=new RegExp(pt,"u")),me.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"emoji",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")lt.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"uuid",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")it.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"cuid",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")ct.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"cuid2",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")dt.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"ulid",code:u.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),m(o,{validation:"url",code:u.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"regex",code:u.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),m(o,{code:u.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),m(o,{code:u.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),m(o,{code:u.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?ft(i).test(e.data)||(o=this._getOrReturnCtx(e,o),m(o,{code:u.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="ip"?_t(e.data,i.version)||(o=this._getOrReturnCtx(e,o),m(o,{validation:"ip",code:u.invalid_string,message:i.message}),a.dirty()):S.assertNever(i);return{status:a.value,value:e.data}}_regex(e,n,a){return this.refinement(o=>e.test(o),d({validation:n,code:u.invalid_string},v.errToObj(a)))}_addCheck(e){return new t(E(d({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(d({kind:"email"},v.errToObj(e)))}url(e){return this._addCheck(d({kind:"url"},v.errToObj(e)))}emoji(e){return this._addCheck(d({kind:"emoji"},v.errToObj(e)))}uuid(e){return this._addCheck(d({kind:"uuid"},v.errToObj(e)))}cuid(e){return this._addCheck(d({kind:"cuid"},v.errToObj(e)))}cuid2(e){return this._addCheck(d({kind:"cuid2"},v.errToObj(e)))}ulid(e){return this._addCheck(d({kind:"ulid"},v.errToObj(e)))}ip(e){return this._addCheck(d({kind:"ip"},v.errToObj(e)))}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(d({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1},v.errToObj(e?.message)))}regex(e,n){return this._addCheck(d({kind:"regex",regex:e},v.errToObj(n)))}includes(e,n){return this._addCheck(d({kind:"includes",value:e,position:n?.position},v.errToObj(n?.message)))}startsWith(e,n){return this._addCheck(d({kind:"startsWith",value:e},v.errToObj(n)))}endsWith(e,n){return this._addCheck(d({kind:"endsWith",value:e},v.errToObj(n)))}min(e,n){return this._addCheck(d({kind:"min",value:e},v.errToObj(n)))}max(e,n){return this._addCheck(d({kind:"max",value:e},v.errToObj(n)))}length(e,n){return this._addCheck(d({kind:"length",value:e},v.errToObj(n)))}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new t(E(d({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new t(E(d({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new t(E(d({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}return t.create=r=>{var e;return new t(d({checks:[],typeName:x.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1},C(r)))},t})();function yt(t,r){let e=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,a=e>n?e:n,o=parseInt(t.toFixed(a).replace(".","")),i=parseInt(r.toFixed(a).replace(".",""));return o%i/Math.pow(10,a)}var ge=(()=>{class t extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){let i=this._getOrReturnCtx(e);return m(i,{code:u.invalid_type,expected:p.number,received:i.parsedType}),T}let a,o=new k;for(let i of this._def.checks)i.kind==="int"?S.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?yt(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:u.not_finite,message:i.message}),o.dirty()):S.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,v.toString(n))}gt(e,n){return this.setLimit("min",e,!1,v.toString(n))}lte(e,n){return this.setLimit("max",e,!0,v.toString(n))}lt(e,n){return this.setLimit("max",e,!1,v.toString(n))}setLimit(e,n,a,o){return new t(E(d({},this._def),{checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:v.toString(o)}]}))}_addCheck(e){return new t(E(d({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&S.isInteger(e.value))}get isFinite(){let e=null,n=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(n)&&Number.isFinite(e)}}return t.create=r=>new t(d({checks:[],typeName:x.ZodNumber,coerce:r?.coerce||!1},C(r))),t})(),Ee=(()=>{class t extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==p.bigint){let i=this._getOrReturnCtx(e);return m(i,{code:u.invalid_type,expected:p.bigint,received:i.parsedType}),T}let a,o=new k;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),m(a,{code:u.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):S.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,v.toString(n))}gt(e,n){return this.setLimit("min",e,!1,v.toString(n))}lte(e,n){return this.setLimit("max",e,!0,v.toString(n))}lt(e,n){return this.setLimit("max",e,!1,v.toString(n))}setLimit(e,n,a,o){return new t(E(d({},this._def),{checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:v.toString(o)}]}))}_addCheck(e){return new t(E(d({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(n)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}return t.create=r=>{var e;return new t(d({checks:[],typeName:x.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1},C(r)))},t})(),ve=(()=>{class t extends A{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==p.boolean){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.boolean,received:a.parsedType}),T}return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodBoolean,coerce:r?.coerce||!1},C(r))),t})(),Re=(()=>{class t extends A{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){let i=this._getOrReturnCtx(e);return m(i,{code:u.invalid_type,expected:p.date,received:i.parsedType}),T}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return m(i,{code:u.invalid_date}),T}let a=new k,o;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),m(o,{code:u.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),m(o,{code:u.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):S.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t(E(d({},this._def),{checks:[...this._def.checks,e]}))}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(n)})}get minDate(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}return t.create=r=>new t(d({checks:[],coerce:r?.coerce||!1,typeName:x.ZodDate},C(r))),t})(),$e=(()=>{class t extends A{_parse(e){if(this._getType(e)!==p.symbol){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.symbol,received:a.parsedType}),T}return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodSymbol},C(r))),t})(),xe=(()=>{class t extends A{_parse(e){if(this._getType(e)!==p.undefined){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.undefined,received:a.parsedType}),T}return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodUndefined},C(r))),t})(),Te=(()=>{class t extends A{_parse(e){if(this._getType(e)!==p.null){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.null,received:a.parsedType}),T}return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodNull},C(r))),t})(),re=(()=>{class t extends A{constructor(){super(...arguments),this._any=!0}_parse(e){return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodAny},C(r))),t})(),W=(()=>{class t extends A{constructor(){super(...arguments),this._unknown=!0}_parse(e){return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodUnknown},C(r))),t})(),F=(()=>{class t extends A{_parse(e){let n=this._getOrReturnCtx(e);return m(n,{code:u.invalid_type,expected:p.never,received:n.parsedType}),T}}return t.create=r=>new t(d({typeName:x.ZodNever},C(r))),t})(),We=(()=>{class t extends A{_parse(e){if(this._getType(e)!==p.undefined){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.void,received:a.parsedType}),T}return O(e.data)}}return t.create=r=>new t(d({typeName:x.ZodVoid},C(r))),t})(),Y=(()=>{class t extends A{_parse(e){let{ctx:n,status:a}=this._processInputParams(e),o=this._def;if(n.parsedType!==p.array)return m(n,{code:u.invalid_type,expected:p.array,received:n.parsedType}),T;if(o.exactLength!==null){let c=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(c||l)&&(m(n,{code:c?u.too_big:u.too_small,minimum:l?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(m(n,{code:u.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(m(n,{code:u.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((c,l)=>o.type._parseAsync(new L(n,c,n.path,l)))).then(c=>k.mergeArray(a,c));let i=[...n.data].map((c,l)=>o.type._parseSync(new L(n,c,n.path,l)));return k.mergeArray(a,i)}get element(){return this._def.type}min(e,n){return new t(E(d({},this._def),{minLength:{value:e,message:v.toString(n)}}))}max(e,n){return new t(E(d({},this._def),{maxLength:{value:e,message:v.toString(n)}}))}length(e,n){return new t(E(d({},this._def),{exactLength:{value:e,message:v.toString(n)}}))}nonempty(e){return this.min(1,e)}}return t.create=(r,e)=>new t(d({type:r,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray},C(e))),t})();function B(t){if(t instanceof G){let r={};for(let e in t.shape){let n=t.shape[e];r[e]=Z.create(B(n))}return new G(E(d({},t._def),{shape:()=>r}))}else return t instanceof Y?new Y(E(d({},t._def),{type:B(t.element)})):t instanceof Z?Z.create(B(t.unwrap())):t instanceof z?z.create(B(t.unwrap())):t instanceof V?V.create(t.items.map(r=>B(r))):t}var G=(()=>{class t extends A{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),n=S.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==p.object){let g=this._getOrReturnCtx(e);return m(g,{code:u.invalid_type,expected:p.object,received:g.parsedType}),T}let{status:a,ctx:o}=this._processInputParams(e),{shape:i,keys:c}=this._getCached(),l=[];if(!(this._def.catchall instanceof F&&this._def.unknownKeys==="strip"))for(let g in o.data)c.includes(g)||l.push(g);let y=[];for(let g of c){let R=i[g],j=o.data[g];y.push({key:{status:"valid",value:g},value:R._parse(new L(o,j,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof F){let g=this._def.unknownKeys;if(g==="passthrough")for(let R of l)y.push({key:{status:"valid",value:R},value:{status:"valid",value:o.data[R]}});else if(g==="strict")l.length>0&&(m(o,{code:u.unrecognized_keys,keys:l}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let R of l){let j=o.data[R];y.push({key:{status:"valid",value:R},value:g._parse(new L(o,j,o.path,R)),alwaysSet:R in o.data})}}return o.common.async?Promise.resolve().then(()=>b(this,null,function*(){let g=[];for(let R of y){let j=yield R.key;g.push({key:j,value:yield R.value,alwaysSet:R.alwaysSet})}return g})).then(g=>k.mergeObjectSync(a,g)):k.mergeObjectSync(a,y)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new t(d(E(d({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(n,a)=>{var o,i,c,l;let y=(c=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,n,a).message)!==null&&c!==void 0?c:a.defaultError;return n.code==="unrecognized_keys"?{message:(l=v.errToObj(e).message)!==null&&l!==void 0?l:y}:{message:y}}}:{}))}strip(){return new t(E(d({},this._def),{unknownKeys:"strip"}))}passthrough(){return new t(E(d({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new t(E(d({},this._def),{shape:()=>d(d({},this._def.shape()),e)}))}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>d(d({},this._def.shape()),e._def.shape()),typeName:x.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new t(E(d({},this._def),{catchall:e}))}pick(e){let n={};return S.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new t(E(d({},this._def),{shape:()=>n}))}omit(e){let n={};return S.objectKeys(this.shape).forEach(a=>{e[a]||(n[a]=this.shape[a])}),new t(E(d({},this._def),{shape:()=>n}))}deepPartial(){return B(this)}partial(e){let n={};return S.objectKeys(this.shape).forEach(a=>{let o=this.shape[a];e&&!e[a]?n[a]=o:n[a]=o.optional()}),new t(E(d({},this._def),{shape:()=>n}))}required(e){let n={};return S.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Z;)i=i._def.innerType;n[a]=i}}),new t(E(d({},this._def),{shape:()=>n}))}keyof(){return Ye(S.objectKeys(this.shape))}}return t.create=(r,e)=>new t(d({shape:()=>r,unknownKeys:"strip",catchall:F.create(),typeName:x.ZodObject},C(e))),t.strictCreate=(r,e)=>new t(d({shape:()=>r,unknownKeys:"strict",catchall:F.create(),typeName:x.ZodObject},C(e))),t.lazycreate=(r,e)=>new t(d({shape:r,unknownKeys:"strip",catchall:F.create(),typeName:x.ZodObject},C(e))),t})(),Ce=(()=>{class t extends A{_parse(e){let{ctx:n}=this._processInputParams(e),a=this._def.options;function o(i){for(let l of i)if(l.result.status==="valid")return l.result;for(let l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;let c=i.map(l=>new M(l.ctx.common.issues));return m(n,{code:u.invalid_union,unionErrors:c}),T}if(n.common.async)return Promise.all(a.map(i=>b(this,null,function*(){let c=E(d({},n),{common:E(d({},n.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}}))).then(o);{let i,c=[];for(let y of a){let g=E(d({},n),{common:E(d({},n.common),{issues:[]}),parent:null}),R=y._parseSync({data:n.data,path:n.path,parent:g});if(R.status==="valid")return R;R.status==="dirty"&&!i&&(i={result:R,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;let l=c.map(y=>new M(y));return m(n,{code:u.invalid_union,unionErrors:l}),T}}get options(){return this._def.options}}return t.create=(r,e)=>new t(d({options:r,typeName:x.ZodUnion},C(e))),t})(),Q=t=>t instanceof be?Q(t.schema):t instanceof D?Q(t.innerType()):t instanceof Se?[t.value]:t instanceof ce?t.options:t instanceof we?Object.keys(t.enum):t instanceof Ne?Q(t._def.innerType):t instanceof xe?[void 0]:t instanceof Te?[null]:null,ne=class t extends A{_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==p.object)return m(e,{code:u.invalid_type,expected:p.object,received:e.parsedType}),T;let n=this.discriminator,a=e.data[n],o=this.optionsMap.get(a);return o?e.common.async?o._parseAsync({data:e.data,path:e.path,parent:e}):o._parseSync({data:e.data,path:e.path,parent:e}):(m(e,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,n){let a=new Map;for(let o of e){let i=Q(o.shape[r]);if(!i)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let c of i){if(a.has(c))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(c)}`);a.set(c,o)}}return new t(d({typeName:x.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:a},C(n)))}};function ye(t,r){let e=U(t),n=U(r);if(t===r)return{valid:!0,data:t};if(e===p.object&&n===p.object){let a=S.objectKeys(r),o=S.objectKeys(t).filter(c=>a.indexOf(c)!==-1),i=d(d({},t),r);for(let c of o){let l=ye(t[c],r[c]);if(!l.valid)return{valid:!1};i[c]=l.data}return{valid:!0,data:i}}else if(e===p.array&&n===p.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let o=0;o<t.length;o++){let i=t[o],c=r[o],l=ye(i,c);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return e===p.date&&n===p.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}var Ae=(()=>{class t extends A{_parse(e){let{status:n,ctx:a}=this._processInputParams(e),o=(i,c)=>{if(fe(i)||fe(c))return T;let l=ye(i.value,c.value);return l.valid?((_e(i)||_e(c))&&n.dirty(),{status:n.value,value:l.data}):(m(a,{code:u.invalid_intersection_types}),T)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,c])=>o(i,c)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}return t.create=(r,e,n)=>new t(d({left:r,right:e,typeName:x.ZodIntersection},C(n))),t})(),V=(()=>{class t extends A{_parse(e){let{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.array)return m(a,{code:u.invalid_type,expected:p.array,received:a.parsedType}),T;if(a.data.length<this._def.items.length)return m(a,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&a.data.length>this._def.items.length&&(m(a,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let i=[...a.data].map((c,l)=>{let y=this._def.items[l]||this._def.rest;return y?y._parse(new L(a,c,a.path,l)):null}).filter(c=>!!c);return a.common.async?Promise.all(i).then(c=>k.mergeArray(n,c)):k.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new t(E(d({},this._def),{rest:e}))}}return t.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new t(d({items:r,typeName:x.ZodTuple,rest:null},C(e)))},t})(),ae=class t extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==p.object)return m(n,{code:u.invalid_type,expected:p.object,received:n.parsedType}),T;let a=[],o=this._def.keyType,i=this._def.valueType;for(let c in n.data)a.push({key:o._parse(new L(n,c,n.path,c)),value:i._parse(new L(n,n.data[c],n.path,c))});return n.common.async?k.mergeObjectAsync(e,a):k.mergeObjectSync(e,a)}get element(){return this._def.valueType}static create(r,e,n){return e instanceof A?new t(d({keyType:r,valueType:e,typeName:x.ZodRecord},C(n))):new t(d({keyType:ie.create(),valueType:r,typeName:x.ZodRecord},C(e)))}},He=(()=>{class t extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.map)return m(a,{code:u.invalid_type,expected:p.map,received:a.parsedType}),T;let o=this._def.keyType,i=this._def.valueType,c=[...a.data.entries()].map(([l,y],g)=>({key:o._parse(new L(a,l,a.path,[g,"key"])),value:i._parse(new L(a,y,a.path,[g,"value"]))}));if(a.common.async){let l=new Map;return Promise.resolve().then(()=>b(this,null,function*(){for(let y of c){let g=yield y.key,R=yield y.value;if(g.status==="aborted"||R.status==="aborted")return T;(g.status==="dirty"||R.status==="dirty")&&n.dirty(),l.set(g.value,R.value)}return{status:n.value,value:l}}))}else{let l=new Map;for(let y of c){let g=y.key,R=y.value;if(g.status==="aborted"||R.status==="aborted")return T;(g.status==="dirty"||R.status==="dirty")&&n.dirty(),l.set(g.value,R.value)}return{status:n.value,value:l}}}}return t.create=(r,e,n)=>new t(d({valueType:e,keyType:r,typeName:x.ZodMap},C(n))),t})(),qe=(()=>{class t extends A{_parse(e){let{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.set)return m(a,{code:u.invalid_type,expected:p.set,received:a.parsedType}),T;let o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(m(a,{code:u.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(m(a,{code:u.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());let i=this._def.valueType;function c(y){let g=new Set;for(let R of y){if(R.status==="aborted")return T;R.status==="dirty"&&n.dirty(),g.add(R.value)}return{status:n.value,value:g}}let l=[...a.data.values()].map((y,g)=>i._parse(new L(a,y,a.path,g)));return a.common.async?Promise.all(l).then(y=>c(y)):c(l)}min(e,n){return new t(E(d({},this._def),{minSize:{value:e,message:v.toString(n)}}))}max(e,n){return new t(E(d({},this._def),{maxSize:{value:e,message:v.toString(n)}}))}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}return t.create=(r,e)=>new t(d({valueType:r,minSize:null,maxSize:null,typeName:x.ZodSet},C(e))),t})(),se=class t extends A{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==p.function)return m(e,{code:u.invalid_type,expected:p.function,received:e.parsedType}),T;function n(c,l){return ee({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,X(),H].filter(y=>!!y),issueData:{code:u.invalid_arguments,argumentsError:l}})}function a(c,l){return ee({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,X(),H].filter(y=>!!y),issueData:{code:u.invalid_return_type,returnTypeError:l}})}let o={errorMap:e.common.contextualErrorMap},i=e.data;if(this._def.returns instanceof de){let c=this;return O(function(...l){return b(this,null,function*(){let y=new M([]),g=yield c._def.args.parseAsync(l,o).catch(pe=>{throw y.addIssue(n(l,pe)),y}),R=yield Reflect.apply(i,this,g);return yield c._def.returns._def.type.parseAsync(R,o).catch(pe=>{throw y.addIssue(a(R,pe)),y})})})}else{let c=this;return O(function(...l){let y=c._def.args.safeParse(l,o);if(!y.success)throw new M([n(l,y.error)]);let g=Reflect.apply(i,this,y.data),R=c._def.returns.safeParse(g,o);if(!R.success)throw new M([a(g,R.error)]);return R.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new t(E(d({},this._def),{args:V.create(r).rest(W.create())}))}returns(r){return new t(E(d({},this._def),{returns:r}))}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,n){return new t(d({args:r||V.create([]).rest(W.create()),returns:e||W.create(),typeName:x.ZodFunction},C(n)))}},be=(()=>{class t extends A{get schema(){return this._def.getter()}_parse(e){let{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}return t.create=(r,e)=>new t(d({getter:r,typeName:x.ZodLazy},C(e))),t})(),Se=(()=>{class t extends A{_parse(e){if(e.data!==this._def.value){let n=this._getOrReturnCtx(e);return m(n,{received:n.data,code:u.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}return t.create=(r,e)=>new t(d({value:r,typeName:x.ZodLiteral},C(e))),t})();function Ye(t,r){return new ce(d({values:t,typeName:x.ZodEnum},C(r)))}var ce=(()=>{class t extends A{_parse(e){if(typeof e.data!="string"){let n=this._getOrReturnCtx(e),a=this._def.values;return m(n,{expected:S.joinValues(a),received:n.parsedType,code:u.invalid_type}),T}if(this._def.values.indexOf(e.data)===-1){let n=this._getOrReturnCtx(e),a=this._def.values;return m(n,{received:n.data,code:u.invalid_enum_value,options:a}),T}return O(e.data)}get options(){return this._def.values}get enum(){let e={};for(let n of this._def.values)e[n]=n;return e}get Values(){let e={};for(let n of this._def.values)e[n]=n;return e}get Enum(){let e={};for(let n of this._def.values)e[n]=n;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(n=>!e.includes(n)))}}return t.create=Ye,t})(),we=(()=>{class t extends A{_parse(e){let n=S.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==p.string&&a.parsedType!==p.number){let o=S.objectValues(n);return m(a,{expected:S.joinValues(o),received:a.parsedType,code:u.invalid_type}),T}if(n.indexOf(e.data)===-1){let o=S.objectValues(n);return m(a,{received:a.data,code:u.invalid_enum_value,options:o}),T}return O(e.data)}get enum(){return this._def.values}}return t.create=(r,e)=>new t(d({values:r,typeName:x.ZodNativeEnum},C(e))),t})(),de=(()=>{class t extends A{unwrap(){return this._def.type}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==p.promise&&n.common.async===!1)return m(n,{code:u.invalid_type,expected:p.promise,received:n.parsedType}),T;let a=n.parsedType===p.promise?n.data:Promise.resolve(n.data);return O(a.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}return t.create=(r,e)=>new t(d({type:r,typeName:x.ZodPromise},C(e))),t})(),D=(()=>{class t extends A{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:n,ctx:a}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:c=>{m(a,c),c.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let c=o.transform(a.data,i);return a.common.issues.length?{status:"dirty",value:a.data}:a.common.async?Promise.resolve(c).then(l=>this._def.schema._parseAsync({data:l,path:a.path,parent:a})):this._def.schema._parseSync({data:c,path:a.path,parent:a})}if(o.type==="refinement"){let c=l=>{let y=o.refinement(l,i);if(a.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){let l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?T:(l.status==="dirty"&&n.dirty(),c(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?T:(l.status==="dirty"&&n.dirty(),c(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(a.common.async===!1){let c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!q(c))return c;let l=o.transform(c.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>q(c)?Promise.resolve(o.transform(c.value,i)).then(l=>({status:n.value,value:l})):c);S.assertNever(o)}}return t.create=(r,e,n)=>new t(d({schema:r,typeName:x.ZodEffects,effect:e},C(n))),t.createWithPreprocess=(r,e,n)=>new t(d({schema:e,effect:{type:"preprocess",transform:r},typeName:x.ZodEffects},C(n))),t})(),Z=(()=>{class t extends A{_parse(e){return this._getType(e)===p.undefined?O(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}return t.create=(r,e)=>new t(d({innerType:r,typeName:x.ZodOptional},C(e))),t})(),z=(()=>{class t extends A{_parse(e){return this._getType(e)===p.null?O(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}return t.create=(r,e)=>new t(d({innerType:r,typeName:x.ZodNullable},C(e))),t})(),Ne=(()=>{class t extends A{_parse(e){let{ctx:n}=this._processInputParams(e),a=n.data;return n.parsedType===p.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}return t.create=(r,e)=>new t(d({innerType:r,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},C(e))),t})(),ze=(()=>{class t extends A{_parse(e){let{ctx:n}=this._processInputParams(e),a=E(d({},n),{common:E(d({},n.common),{issues:[]})}),o=this._def.innerType._parse({data:a.data,path:a.path,parent:d({},a)});return te(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new M(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new M(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}return t.create=(r,e)=>new t(d({innerType:r,typeName:x.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},C(e))),t})(),Ke=(()=>{class t extends A{_parse(e){if(this._getType(e)!==p.nan){let a=this._getOrReturnCtx(e);return m(a,{code:u.invalid_type,expected:p.nan,received:a.parsedType}),T}return{status:"valid",value:e.data}}}return t.create=r=>new t(d({typeName:x.ZodNaN},C(r))),t})(),gt=Symbol("zod_brand"),oe=class extends A{_parse(r){let{ctx:e}=this._processInputParams(r),n=e.data;return this._def.type._parse({data:n,path:e.path,parent:e})}unwrap(){return this._def.type}},K=class t extends A{_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.common.async)return b(this,null,function*(){let o=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?T:o.status==="dirty"?(e.dirty(),Ve(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})});{let a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?T:a.status==="dirty"?(e.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(r,e){return new t({in:r,out:e,typeName:x.ZodPipeline})}},Je=(()=>{class t extends A{_parse(e){let n=this._def.innerType._parse(e);return q(n)&&(n.value=Object.freeze(n.value)),n}}return t.create=(r,e)=>new t(d({innerType:r,typeName:x.ZodReadonly},C(e))),t})(),Qe=(t,r={},e)=>t?re.create().superRefine((n,a)=>{var o,i;if(!t(n)){let c=typeof r=="function"?r(n):typeof r=="string"?{message:r}:r,l=(i=(o=c.fatal)!==null&&o!==void 0?o:e)!==null&&i!==void 0?i:!0,y=typeof c=="string"?{message:c}:c;a.addIssue(E(d({code:"custom"},y),{fatal:l}))}}):re.create(),Et={object:G.lazycreate},x=function(t){return t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly",t}(x||{}),vt=(t,r={message:`Input not instance of ${t.name}`})=>Qe(e=>e instanceof t,r),Xe=ie.create,et=ge.create,Rt=Ke.create,xt=Ee.create,tt=ve.create,Tt=Re.create,Ct=$e.create,At=xe.create,bt=Te.create,St=re.create,wt=W.create,Nt=F.create,kt=We.create,Ot=Y.create,It=G.create,Pt=G.strictCreate,Lt=Ce.create,Mt=ne.create,jt=Ae.create,Ut=V.create,Ft=ae.create,Zt=He.create,Dt=qe.create,Bt=se.create,Gt=be.create,Vt=Se.create,$t=ce.create,Wt=we.create,Ht=de.create,De=D.create,qt=Z.create,Yt=z.create,zt=D.createWithPreprocess,Kt=K.create,Jt=()=>Xe().optional(),Qt=()=>et().optional(),Xt=()=>tt().optional(),er={string:t=>ie.create(E(d({},t),{coerce:!0})),number:t=>ge.create(E(d({},t),{coerce:!0})),boolean:t=>ve.create(E(d({},t),{coerce:!0})),bigint:t=>Ee.create(E(d({},t),{coerce:!0})),date:t=>Re.create(E(d({},t),{coerce:!0}))},tr=T,s=Object.freeze({__proto__:null,defaultErrorMap:H,setErrorMap:st,getErrorMap:X,makeIssue:ee,EMPTY_PATH:ot,addIssueToContext:m,ParseStatus:k,INVALID:T,DIRTY:Ve,OK:O,isAborted:fe,isDirty:_e,isValid:q,isAsync:te,get util(){return S},get objectUtil(){return Be},ZodParsedType:p,getParsedType:U,ZodType:A,ZodString:ie,ZodNumber:ge,ZodBigInt:Ee,ZodBoolean:ve,ZodDate:Re,ZodSymbol:$e,ZodUndefined:xe,ZodNull:Te,ZodAny:re,ZodUnknown:W,ZodNever:F,ZodVoid:We,ZodArray:Y,ZodObject:G,ZodUnion:Ce,ZodDiscriminatedUnion:ne,ZodIntersection:Ae,ZodTuple:V,ZodRecord:ae,ZodMap:He,ZodSet:qe,ZodFunction:se,ZodLazy:be,ZodLiteral:Se,ZodEnum:ce,ZodNativeEnum:we,ZodPromise:de,ZodEffects:D,ZodTransformer:D,ZodOptional:Z,ZodNullable:z,ZodDefault:Ne,ZodCatch:ze,ZodNaN:Ke,BRAND:gt,ZodBranded:oe,ZodPipeline:K,ZodReadonly:Je,custom:Qe,Schema:A,ZodSchema:A,late:Et,get ZodFirstPartyTypeKind(){return x},coerce:er,any:St,array:Ot,bigint:xt,boolean:tt,date:Tt,discriminatedUnion:Mt,effect:De,enum:$t,function:Bt,instanceof:vt,intersection:jt,lazy:Gt,literal:Vt,map:Zt,nan:Rt,nativeEnum:Wt,never:Nt,null:bt,nullable:Yt,number:et,object:It,oboolean:Xt,onumber:Qt,optional:qt,ostring:Jt,pipeline:Kt,preprocess:zt,promise:Ht,record:Ft,set:Dt,strictObject:Pt,string:Xe,symbol:Ct,transformer:De,tuple:Ut,undefined:At,union:Lt,unknown:wt,void:kt,NEVER:tr,ZodIssueCode:u,quotelessJson:at,ZodError:M});var w=s.object({message:s.string()});function f(t){return s.literal(h[t])}var Ln=s.object({accessList:s.array(s.string()),blockHash:s.string().nullable(),blockNumber:s.string().nullable(),chainId:s.string().or(s.number()),from:s.string(),gas:s.string(),hash:s.string(),input:s.string().nullable(),maxFeePerGas:s.string(),maxPriorityFeePerGas:s.string(),nonce:s.string(),r:s.string(),s:s.string(),to:s.string(),transactionIndex:s.string().nullable(),type:s.string(),v:s.string(),value:s.string()}),rr=s.object({chainId:s.string().or(s.number())}),nr=s.object({email:s.string().email()}),ar=s.object({otp:s.string()}),sr=s.object({uri:s.string()}),or=s.object({chainId:s.optional(s.string().or(s.number())),preferredAccountType:s.optional(s.string())}),ir=s.object({provider:s.enum(["google","github","apple","facebook","x","discord"])}),cr=s.object({email:s.string().email()}),dr=s.object({otp:s.string()}),lr=s.object({otp:s.string()}),ur=s.object({themeMode:s.optional(s.enum(["light","dark"])),themeVariables:s.optional(s.record(s.string(),s.string().or(s.number()))),w3mThemeVariables:s.optional(s.record(s.string(),s.string()))}),pr=s.object({metadata:s.object({name:s.string(),description:s.string(),url:s.string(),icons:s.array(s.string())}).optional(),sdkVersion:s.string().optional(),sdkType:s.string().optional(),projectId:s.string()}),hr=s.object({type:s.string()}),mr=s.object({action:s.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),fr=s.object({url:s.string()}),_r=s.object({userName:s.string()}),yr=s.object({email:s.string().optional().nullable(),address:s.string(),chainId:s.string().or(s.number()),accounts:s.array(s.object({address:s.string(),type:s.enum([P.ACCOUNT_TYPES.EOA,P.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:s.string().optional().nullable()}),gr=s.object({action:s.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Er=s.object({email:s.string().email().optional().nullable(),address:s.string(),chainId:s.string().or(s.number()),smartAccountDeployed:s.optional(s.boolean()),accounts:s.array(s.object({address:s.string(),type:s.enum([P.ACCOUNT_TYPES.EOA,P.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:s.optional(s.string())}),vr=s.object({uri:s.string()}),Rr=s.object({isConnected:s.boolean()}),xr=s.object({chainId:s.string().or(s.number())}),Tr=s.object({chainId:s.string().or(s.number())}),Cr=s.object({newEmail:s.string().email()}),Ar=s.object({smartAccountEnabledNetworks:s.array(s.number())}),Mn=s.object({address:s.string(),isDeployed:s.boolean()}),br=s.object({version:s.string().optional()}),Sr=s.object({type:s.string(),address:s.string()}),wr=s.any(),Nr=s.object({method:s.literal("eth_accounts")}),kr=s.object({method:s.literal("eth_blockNumber")}),Or=s.object({method:s.literal("eth_call"),params:s.array(s.any())}),Ir=s.object({method:s.literal("eth_chainId")}),Pr=s.object({method:s.literal("eth_estimateGas"),params:s.array(s.any())}),Lr=s.object({method:s.literal("eth_feeHistory"),params:s.array(s.any())}),Mr=s.object({method:s.literal("eth_gasPrice")}),jr=s.object({method:s.literal("eth_getAccount"),params:s.array(s.any())}),Ur=s.object({method:s.literal("eth_getBalance"),params:s.array(s.any())}),Fr=s.object({method:s.literal("eth_getBlockByHash"),params:s.array(s.any())}),Zr=s.object({method:s.literal("eth_getBlockByNumber"),params:s.array(s.any())}),Dr=s.object({method:s.literal("eth_getBlockReceipts"),params:s.array(s.any())}),Br=s.object({method:s.literal("eth_getBlockTransactionCountByHash"),params:s.array(s.any())}),Gr=s.object({method:s.literal("eth_getBlockTransactionCountByNumber"),params:s.array(s.any())}),Vr=s.object({method:s.literal("eth_getCode"),params:s.array(s.any())}),$r=s.object({method:s.literal("eth_getFilterChanges"),params:s.array(s.any())}),Wr=s.object({method:s.literal("eth_getFilterLogs"),params:s.array(s.any())}),Hr=s.object({method:s.literal("eth_getLogs"),params:s.array(s.any())}),qr=s.object({method:s.literal("eth_getProof"),params:s.array(s.any())}),Yr=s.object({method:s.literal("eth_getStorageAt"),params:s.array(s.any())}),zr=s.object({method:s.literal("eth_getTransactionByBlockHashAndIndex"),params:s.array(s.any())}),Kr=s.object({method:s.literal("eth_getTransactionByBlockNumberAndIndex"),params:s.array(s.any())}),Jr=s.object({method:s.literal("eth_getTransactionByHash"),params:s.array(s.any())}),Qr=s.object({method:s.literal("eth_getTransactionCount"),params:s.array(s.any())}),Xr=s.object({method:s.literal("eth_getTransactionReceipt"),params:s.array(s.any())}),en=s.object({method:s.literal("eth_getUncleCountByBlockHash"),params:s.array(s.any())}),tn=s.object({method:s.literal("eth_getUncleCountByBlockNumber"),params:s.array(s.any())}),rn=s.object({method:s.literal("eth_maxPriorityFeePerGas")}),nn=s.object({method:s.literal("eth_newBlockFilter")}),an=s.object({method:s.literal("eth_newFilter"),params:s.array(s.any())}),sn=s.object({method:s.literal("eth_newPendingTransactionFilter")}),on=s.object({method:s.literal("eth_sendRawTransaction"),params:s.array(s.any())}),cn=s.object({method:s.literal("eth_syncing"),params:s.array(s.any())}),dn=s.object({method:s.literal("eth_uninstallFilter"),params:s.array(s.any())}),rt=s.object({method:s.literal("personal_sign"),params:s.array(s.any())}),ln=s.object({method:s.literal("eth_signTypedData_v4"),params:s.array(s.any())}),un=s.object({method:s.literal("eth_sendTransaction"),params:s.array(s.any())}),pn=s.object({method:s.literal("solana_signMessage"),params:s.object({message:s.string(),pubkey:s.string()})}),hn=s.object({method:s.literal("solana_signTransaction"),params:s.object({transaction:s.string()})}),mn=s.object({method:s.literal("solana_signAllTransactions"),params:s.object({transactions:s.array(s.string())})}),fn=s.object({method:s.literal("solana_signAndSendTransaction"),params:s.object({transaction:s.string(),options:s.object({skipPreflight:s.boolean().optional(),preflightCommitment:s.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:s.number().optional(),minContextSlot:s.number().optional()}).optional()})}),_n=s.object({method:s.literal("wallet_sendCalls"),params:s.array(s.object({chainId:s.string().or(s.number()).optional(),from:s.string().optional(),version:s.string().optional(),capabilities:s.any().optional(),calls:s.array(s.object({to:s.string().startsWith("0x"),data:s.string().startsWith("0x").optional(),value:s.string().optional()}))}))}),yn=s.object({method:s.literal("wallet_getCallsStatus"),params:s.array(s.string())}),gn=s.object({method:s.literal("wallet_getCapabilities")}),En=s.object({method:s.literal("wallet_grantPermissions"),params:s.array(s.any())}),vn=s.object({method:s.literal("wallet_revokePermissions"),params:s.any()}),Rn=s.object({method:s.literal("wallet_getAssets"),params:s.any()}),nt=s.object({token:s.string()}),_=s.object({id:s.string().optional()}),$={appEvent:_.extend({type:f("APP_SWITCH_NETWORK"),payload:rr}).or(_.extend({type:f("APP_CONNECT_EMAIL"),payload:nr})).or(_.extend({type:f("APP_CONNECT_DEVICE")})).or(_.extend({type:f("APP_CONNECT_OTP"),payload:ar})).or(_.extend({type:f("APP_CONNECT_SOCIAL"),payload:sr})).or(_.extend({type:f("APP_GET_FARCASTER_URI")})).or(_.extend({type:f("APP_CONNECT_FARCASTER")})).or(_.extend({type:f("APP_GET_USER"),payload:s.optional(or)})).or(_.extend({type:f("APP_GET_SOCIAL_REDIRECT_URI"),payload:ir})).or(_.extend({type:f("APP_SIGN_OUT")})).or(_.extend({type:f("APP_IS_CONNECTED"),payload:s.optional(nt)})).or(_.extend({type:f("APP_GET_CHAIN_ID")})).or(_.extend({type:f("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(_.extend({type:f("APP_INIT_SMART_ACCOUNT")})).or(_.extend({type:f("APP_SET_PREFERRED_ACCOUNT"),payload:hr})).or(_.extend({type:f("APP_RPC_REQUEST"),payload:rt.or(Rn).or(Nr).or(kr).or(Or).or(Ir).or(Pr).or(Lr).or(Mr).or(jr).or(Ur).or(Fr).or(Zr).or(Dr).or(Br).or(Gr).or(Vr).or($r).or(Wr).or(Hr).or(qr).or(Yr).or(zr).or(Kr).or(Jr).or(Qr).or(Xr).or(en).or(tn).or(rn).or(nn).or(an).or(sn).or(on).or(cn).or(dn).or(rt).or(ln).or(un).or(pn).or(hn).or(mn).or(fn).or(yn).or(_n).or(gn).or(En).or(vn)})).or(_.extend({type:f("APP_UPDATE_EMAIL"),payload:cr})).or(_.extend({type:f("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:dr})).or(_.extend({type:f("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:lr})).or(_.extend({type:f("APP_SYNC_THEME"),payload:ur})).or(_.extend({type:f("APP_SYNC_DAPP_DATA"),payload:pr})).or(_.extend({type:f("APP_RELOAD")})),frameEvent:_.extend({type:f("FRAME_SWITCH_NETWORK_ERROR"),payload:w}).or(_.extend({type:f("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Tr})).or(_.extend({type:f("FRAME_CONNECT_EMAIL_SUCCESS"),payload:mr})).or(_.extend({type:f("FRAME_CONNECT_EMAIL_ERROR"),payload:w})).or(_.extend({type:f("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:fr})).or(_.extend({type:f("FRAME_GET_FARCASTER_URI_ERROR"),payload:w})).or(_.extend({type:f("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:_r})).or(_.extend({type:f("FRAME_CONNECT_FARCASTER_ERROR"),payload:w})).or(_.extend({type:f("FRAME_CONNECT_OTP_ERROR"),payload:w})).or(_.extend({type:f("FRAME_CONNECT_OTP_SUCCESS")})).or(_.extend({type:f("FRAME_CONNECT_DEVICE_ERROR"),payload:w})).or(_.extend({type:f("FRAME_CONNECT_DEVICE_SUCCESS")})).or(_.extend({type:f("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:yr})).or(_.extend({type:f("FRAME_CONNECT_SOCIAL_ERROR"),payload:w})).or(_.extend({type:f("FRAME_GET_USER_ERROR"),payload:w})).or(_.extend({type:f("FRAME_GET_USER_SUCCESS"),payload:Er})).or(_.extend({type:f("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:w})).or(_.extend({type:f("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:vr})).or(_.extend({type:f("FRAME_SIGN_OUT_ERROR"),payload:w})).or(_.extend({type:f("FRAME_SIGN_OUT_SUCCESS")})).or(_.extend({type:f("FRAME_IS_CONNECTED_ERROR"),payload:w})).or(_.extend({type:f("FRAME_IS_CONNECTED_SUCCESS"),payload:Rr})).or(_.extend({type:f("FRAME_GET_CHAIN_ID_ERROR"),payload:w})).or(_.extend({type:f("FRAME_GET_CHAIN_ID_SUCCESS"),payload:xr})).or(_.extend({type:f("FRAME_RPC_REQUEST_ERROR"),payload:w})).or(_.extend({type:f("FRAME_RPC_REQUEST_SUCCESS"),payload:wr})).or(_.extend({type:f("FRAME_SESSION_UPDATE"),payload:nt})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_ERROR"),payload:w})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_SUCCESS"),payload:gr})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:w})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:w})).or(_.extend({type:f("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Cr})).or(_.extend({type:f("FRAME_SYNC_THEME_ERROR"),payload:w})).or(_.extend({type:f("FRAME_SYNC_THEME_SUCCESS")})).or(_.extend({type:f("FRAME_SYNC_DAPP_DATA_ERROR"),payload:w})).or(_.extend({type:f("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(_.extend({type:f("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Ar})).or(_.extend({type:f("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:w})).or(_.extend({type:f("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:w})).or(_.extend({type:f("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Sr})).or(_.extend({type:f("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:w})).or(_.extend({type:f("FRAME_READY"),payload:br})).or(_.extend({type:f("FRAME_RELOAD_ERROR"),payload:w})).or(_.extend({type:f("FRAME_RELOAD_SUCCESS")}))};function ke(t,r={}){return typeof r?.type=="string"&&r?.type?.includes(t)}var le=class{constructor({projectId:r,isAppClient:e=!1,chainId:n="eip155:1",enableLogger:a=!0}){if(this.iframe=null,this.rpcUrl=Me.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{let o=document.getElementById("w3m-iframe");this.iframe&&!o&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(o,i,c)=>{function l({data:y}){if(!ke(h.FRAME_EVENT_KEY,y))return;let g=$.frameEvent.parse(y);g.id===o&&(i(g),window.removeEventListener("message",l))}I.isClient&&(window.addEventListener("message",l),c.addEventListener("abort",()=>{window.removeEventListener("message",l)}))},onFrameEvent:o=>{I.isClient&&window.addEventListener("message",({data:i})=>{if(!ke(h.FRAME_EVENT_KEY,i))return;let c=$.frameEvent.parse(i);o(c)})},onAppEvent:o=>{I.isClient&&window.addEventListener("message",({data:i})=>{if(!ke(h.APP_EVENT_KEY,i))return;let c=$.appEvent.parse(i);o(c)})},postAppEvent:o=>{if(I.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");$.appEvent.parse(o),this.iframe.contentWindow.postMessage(o,"*")}},postFrameEvent:o=>{if(I.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");$.frameEvent.parse(o),parent.postMessage(o,"*")}}},this.projectId=r,this.frameLoadPromise=new Promise((o,i)=>{this.frameLoadPromiseResolver={resolve:o,reject:i}}),e&&(this.frameLoadPromise=new Promise((o,i)=>{this.frameLoadPromiseResolver={resolve:o,reject:i}}),I.isClient)){let o=document.createElement("iframe");o.id="w3m-iframe",o.src=`${je}?projectId=${r}&chainId=${n}&version=${Fe}&enableLogger=${a}`,o.name="w3m-secure-iframe",o.style.position="fixed",o.style.zIndex="999999",o.style.display="none",o.style.animationDelay="0s, 50ms",o.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",o.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=o,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(i=>{i.type==="@w3m-frame/READY"&&this.frameLoadPromiseResolver?.resolve(void 0)})}}get networks(){let r=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(e=>({[e]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${e}&projectId=${this.projectId}`,chainId:e}}));return Object.assign({},...r)}};var ue=class{constructor(r){let e=Ie({level:Ue}),{logger:n,chunkLoggerController:a}=Le({opts:e});this.logger=Pe(n,this.constructor.name),this.chunkLoggerController=a,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:r})})}};var Oe=class{constructor({projectId:r,chainId:e,enableLogger:n=!0,onTimeout:a}){this.openRpcRequests=[],n&&(this.w3mLogger=new ue(r)),this.w3mFrame=new le({projectId:r,isAppClient:!0,chainId:e,enableLogger:n}),this.onTimeout=a,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(o=>{this.w3mFrame.events.onFrameEvent(i=>{i.type===h.FRAME_READY&&(this.initPromise=void 0,o())})})}init(){return b(this,null,function*(){this.w3mFrame.initFrame(),this.initPromise&&(yield this.initPromise)})}getLoginEmailUsed(){return!!N.get(h.EMAIL_LOGIN_USED_KEY)}getEmail(){return N.get(h.EMAIL)}getUsername(){return N.get(h.SOCIAL_USERNAME)}reload(){return b(this,null,function*(){try{this.w3mFrame.initFrame(),yield this.appEvent({type:h.APP_RELOAD})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error reloading iframe"),r}})}connectEmail(r){return b(this,null,function*(){try{I.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();let e=yield this.appEvent({type:h.APP_CONNECT_EMAIL,payload:r});return this.setNewLastEmailLoginTime(),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting email"),e}})}connectDevice(){return b(this,null,function*(){try{return this.appEvent({type:h.APP_CONNECT_DEVICE})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting device"),r}})}connectOtp(r){return b(this,null,function*(){try{return this.appEvent({type:h.APP_CONNECT_OTP,payload:r})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting otp"),e}})}isConnected(){return b(this,null,function*(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let r=yield this.appEvent({type:h.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:r},"Error checking connection"),r}})}getChainId(){return b(this,null,function*(){try{let r=yield this.appEvent({type:h.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting chain id"),r}})}getSocialRedirectUri(r){return b(this,null,function*(){try{return this.w3mFrame.initFrame(),this.appEvent({type:h.APP_GET_SOCIAL_REDIRECT_URI,payload:r})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting social redirect uri"),e}})}updateEmail(r){return b(this,null,function*(){try{let e=yield this.appEvent({type:h.APP_UPDATE_EMAIL,payload:r});return this.setNewLastEmailLoginTime(),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email"),e}})}updateEmailPrimaryOtp(r){return b(this,null,function*(){try{return this.appEvent({type:h.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:r})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email primary otp"),e}})}updateEmailSecondaryOtp(r){return b(this,null,function*(){try{let e=yield this.appEvent({type:h.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:r});return this.setLoginSuccess(e.newEmail),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email secondary otp"),e}})}syncTheme(r){return b(this,null,function*(){try{return this.appEvent({type:h.APP_SYNC_THEME,payload:r})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing theme"),e}})}syncDappData(r){return b(this,null,function*(){try{return this.appEvent({type:h.APP_SYNC_DAPP_DATA,payload:r})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing dapp data"),e}})}getSmartAccountEnabledNetworks(){return b(this,null,function*(){try{let r=yield this.appEvent({type:h.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:r},"Error getting smart account enabled networks"),r}})}setPreferredAccount(r){return b(this,null,function*(){try{return this.appEvent({type:h.APP_SET_PREFERRED_ACCOUNT,payload:{type:r}})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error setting preferred account"),e}})}connect(r){return b(this,null,function*(){try{let e=r?.chainId||this.getLastUsedChainId()||1,n=yield this.appEvent({type:h.APP_GET_USER,payload:E(d({},r),{chainId:e})});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}})}getUser(r){return b(this,null,function*(){try{let e=r?.chainId||this.getLastUsedChainId()||1,n=yield this.appEvent({type:h.APP_GET_USER,payload:E(d({},r),{chainId:e})});return this.user=n,n}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}})}connectSocial(r){return b(this,null,function*(){try{this.w3mFrame.initFrame();let e=yield this.appEvent({type:h.APP_CONNECT_SOCIAL,payload:{uri:r}});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}})}getFarcasterUri(){return b(this,null,function*(){try{return this.w3mFrame.initFrame(),yield this.appEvent({type:h.APP_GET_FARCASTER_URI})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting farcaster uri"),r}})}connectFarcaster(){return b(this,null,function*(){try{let r=yield this.appEvent({type:h.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting farcaster"),r}})}switchNetwork(r){return b(this,null,function*(){try{let e=yield this.appEvent({type:h.APP_SWITCH_NETWORK,payload:{chainId:r}});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error switching network"),e}})}disconnect(){return b(this,null,function*(){try{let r=yield this.appEvent({type:h.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error disconnecting"),r}})}request(r){return b(this,null,function*(){try{if(P.GET_CHAIN_ID===r.method)return this.getLastUsedChainId();this.rpcRequestHandler?.(r);let e=yield this.appEvent({type:h.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(e,r),e}catch(e){throw this.rpcErrorHandler?.(e,r),this.w3mLogger?.logger.error({error:e},"Error requesting"),e}})}onRpcRequest(r){this.rpcRequestHandler=r}onRpcSuccess(r){this.rpcSuccessHandler=r}onRpcError(r){this.rpcErrorHandler=r}onIsConnected(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_IS_CONNECTED_SUCCESS&&e.payload.isConnected&&r()})}onNotConnected(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_IS_CONNECTED_ERROR&&r(),e.type===h.FRAME_IS_CONNECTED_SUCCESS&&!e.payload.isConnected&&r()})}onConnect(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_GET_USER_SUCCESS&&r(e.payload)})}onSocialConnected(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_CONNECT_SOCIAL_SUCCESS&&r(e.payload)})}getCapabilities(){return b(this,null,function*(){try{return(yield this.request({method:"wallet_getCapabilities"}))||{}}catch{return{}}})}onSetPreferredAccount(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?r(e.payload):e.type===h.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&r({type:P.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(r){this.w3mFrame.events.onFrameEvent(e=>{e.type===h.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?r(e.payload.smartAccountEnabledNetworks):e.type===h.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&r([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:r,method:e})=>{P.SAFE_RPC_METHODS.includes(e)||r.abort()}),this.openRpcRequests=[]}catch(r){this.w3mLogger?.logger.error({error:r},"Error aborting RPC request")}}appEvent(r){return b(this,null,function*(){yield this.w3mFrame.frameLoadPromise;let e;function n(c){return c.replace("@w3m-app/","")}let a=new AbortController,o=n(r.type);return[h.APP_CONNECT_EMAIL,h.APP_CONNECT_DEVICE,h.APP_CONNECT_OTP,h.APP_CONNECT_SOCIAL,h.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(o)&&(e=setTimeout(()=>{this.onTimeout?.(),a.abort()},3e4)),new Promise((c,l)=>{let y=Math.random().toString(36).substring(7);if(this.w3mLogger?.logger.info?.({event:r,id:y},"Sending app event"),this.w3mFrame.events.postAppEvent(E(d({},r),{id:y})),o==="RPC_REQUEST"){let R=r;this.openRpcRequests=[...this.openRpcRequests,E(d({},R.payload),{abortController:a})]}a.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function g(R,j){R.id===y&&(j?.logger.info?.({framEvent:R,id:y},"Received frame response"),R.type===`@w3m-frame/${o}_SUCCESS`?(e&&clearTimeout(e),"payload"in R&&c(R.payload),c(void 0)):R.type===`@w3m-frame/${o}_ERROR`&&(e&&clearTimeout(e),"payload"in R&&l(new Error(R.payload?.message||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(y,R=>g(R,this.w3mLogger),a.signal)})})}setNewLastEmailLoginTime(){N.set(h.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(r){N.set(h.SOCIAL_USERNAME,r)}setLoginSuccess(r){r&&N.set(h.EMAIL,r),N.set(h.EMAIL_LOGIN_USED_KEY,"true"),N.delete(h.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){N.delete(h.EMAIL_LOGIN_USED_KEY),N.delete(h.EMAIL),N.delete(h.LAST_USED_CHAIN_KEY),N.delete(h.SOCIAL_USERNAME)}setLastUsedChainId(r){r&&N.set(h.LAST_USED_CHAIN_KEY,String(r))}getLastUsedChainId(){let r=N.get(h.LAST_USED_CHAIN_KEY)??void 0,e=Number(r);return isNaN(e)?r:e}persistSmartAccountEnabledNetworks(r){N.set(h.SMART_ACCOUNT_ENABLED_NETWORKS,r.join(","))}};export{I as a,Oe as b};
